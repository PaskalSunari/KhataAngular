<div class="page-head-bar">
    <div class="container-fluid">
        <!-- <h1>Product Creation</h1> -->
        <div class="row align-items-center flex-wrap">
            <div class="col-9">Product Creation</div>
            <div class="col-3">
                <div class="buttons-wrapper d-flex justify-content-end Gap-5">
                    <!-- <button class="btn btn-success button-sm"><i class="fa-solid fa-file-pdf"></i></button>
                    <button class="btn button-info button-sm"><i class="fa-solid fa-file-csv"></i></button>

                    <button class="btn btn-danger button-sm"><i class="fa-solid fa-print"></i></button> -->
                    <div class="plus-btn" (click)="toggleForm()">

                        <i class="fa-solid"
                            [ngClass]="showProductCreationForm ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div class="page-body">
    <div class="container-fluid px-0">
        <div class="row">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 p-0">
                <div class="product-creation-page">
                    <form class="product-creation-form">
                        <div class="container-fluid pt-0 px-1 pb-1" *ngIf="showProductCreationForm">

                            <div class="product-creation">
                                <div class="product-creation-inner">

                                    <div class="tabs">
                                        <button (click)="tab = 'General'"
                                            [class.active]="tab === 'General'">General</button>

                                        <button (click)="tab = 'Details'"
                                            [class.active]="tab === 'Details'">Details</button>

                                        <button (click)="tab = 'additionalInformation'"
                                            [class.active]="tab === 'additionalInformation'">Additional
                                            Information</button>
                                    </div>

                                    <div class="product-creation-content">
                                        <!-- TAB CONTENT -->
                                        <div [hidden]="tab !== 'General'">
                                            <div class="row">

                                                <div class="col-lg-3 col-md-4 col-sm-6">
                                                    <div class="row flex-column">
                                                        <div class="custom__input-container">
                                                            <input id="productCode" type="text" name="productCode"
                                                                autocomplete="off"
                                                                class="form-control custom__input req"
                                                                [(ngModel)]="this.service.productCreationModel.productCode"
                                                                [disabled]="productCodeDisable">
                                                            <label>Product Code</label>
                                                        </div>
                                                        <div class="custom__input-container">
                                                            <input id="productName" type="text" name="Product Name"
                                                                autocomplete="off"
                                                                class="form-control custom__input req"
                                                                [(ngModel)]="this.service.productCreationModel.productName"
                                                                required>
                                                            <label>Name</label>
                                                        </div>
                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select class="input-field custom__input w-100 req"
                                                                    id="group" name="Group"
                                                                    data-placeholder="--Choose--" required>
                                                                    <option value=""></option>
                                                                    <option *ngFor="let data of groupDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>

                                                                </select>

                                                                <label>Group </label>
                                                            </div>
                                                            <div class=" button__plus ms-1" (click)="openGroupPopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="productCategory" name="Category"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--" required>
                                                                    <option value=""></option>
                                                                    <option *ngFor="let data of categoryDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>

                                                                </select>

                                                                <label>Category</label>
                                                            </div>

                                                            <div class=" button__plus ms-1"
                                                                (click)="openCategoryPopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6">
                                                    <div class="row flex-column">
                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="sku" name="SKU"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--" required>
                                                                    <option value=""></option>
                                                                    <option *ngFor="let data of skuDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>

                                                                </select>
                                                                <label>SKU</label>
                                                            </div>
                                                            <div class=" button__plus ms-1" (click)="openUnitPopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>
                                                        <div class="custom__input-container ">

                                                            <select id="alternativeUnit" name="Alternative Name"
                                                                class="input-field custom__input w-100 req"
                                                                data-placeholder="--Choose--"
                                                                [disabled]="disableAlternativeUnit">
                                                                <option value=""></option>
                                                                <option *ngFor="let data of alternativeUnitDropdownList"
                                                                    value="{{data.value}}">
                                                                    {{data.text}} </option>
                                                            </select>

                                                            <label>Alternate Unit</label>


                                                        </div>
                                                        <div class="custom__input-container">

                                                            <select id="vatable" name="Vatable"
                                                                class="input-field custom__input w-100 req"
                                                                data-placeholder="--Choose--" required>
                                                                <option value="0">No</option>
                                                                <option value="1">Yes</option>

                                                            </select>

                                                            <label>Vatable</label>

                                                        </div>
                                                        <div class="custom__input-container">

                                                            <select id="assetsType" name="Assets Type"
                                                                class="input-field custom__input w-100 req"
                                                                data-placeholder="--Choose--" required>
                                                                <option value="1">Current</option>
                                                                <option value="2">Fixed</option>

                                                            </select>

                                                            <label>Assets Type</label>

                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6">
                                                    <div class="row flex-column">
                                                        <div class="custom__input-container ">

                                                            <select id="consumable" name="Consumable"
                                                                class="input-field custom__input w-100 req" required>
                                                                <option value="0">No</option>
                                                                <option value="1">Yes</option>

                                                            </select>

                                                            <label>Consumable</label>

                                                        </div>
                                                        <div class="custom__input-container">

                                                            <select id="allowBatch" name="Allow Batch"
                                                                class="input-field custom__input w-100 req" required>
                                                                <option value="1">Yes</option>
                                                                <option value="0">No</option>

                                                            </select>

                                                            <label>Allow Batch</label>

                                                        </div>
                                                        <div class="custom__input-container">

                                                            <select id="IsExpirable" name="Is Expireable"
                                                                class="input-field custom__input w-100 req" required>
                                                                <option value="1">Yes</option>
                                                                <option value="0">No</option>

                                                            </select>

                                                            <label>IsExpirable</label>

                                                        </div>
                                                        <div class="custom__input-container">

                                                            <select id="public" name="Public"
                                                                class="input-field custom__input w-100 req" required>
                                                                <option value="1">Yes</option>
                                                                <option value="0">No</option>

                                                            </select>

                                                            <label>Public</label>

                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6">
                                                    <div class="row flex-column">
                                                        <div class="custom__input-container">

                                                            <select id="BOM" name="BOM"
                                                                class="input-field custom__input w-100 req" required>
                                                                <option value="0">No</option>
                                                                <option value="1">Yes</option>

                                                            </select>

                                                            <label>BOM</label>


                                                        </div>
                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="productStatus" name="Status"
                                                                    class="input-field custom__input w-100 req"
                                                                    required>
                                                                    <option value="1">Active</option>
                                                                    <option value="0">InActive</option>
                                                                    <option value="2">Hold</option>

                                                                </select>
                                                                <label>Status </label>
                                                            </div>

                                                        </div>
                                                    </div>

                                                </div>



                                            </div>
                                        </div>

                                        <div [hidden]="tab !== 'Details'">
                                            <div class="row">
                                                <div class="col-lg-3 col-md-4 col-sm-6 ">
                                                    <div class="row flex-column">

                                                        <div class="custom__input-container">
                                                            <input id="UUID" type="number" name="UUID"
                                                                autocomplete="off" required
                                                                class="form-control custom__input"
                                                                [(ngModel)]="this.service.productCreationModel.UUID">
                                                            <label>UUID</label>
                                                        </div>

                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="manufacturer" name="Manufacturer"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--" required>
                                                                    <!-- <option value=""></option> -->
                                                                    <option
                                                                        *ngFor="let data of manufacturerDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>
                                                                </select>
                                                                <label>Manufacturer</label>
                                                            </div>
                                                            <div class=" button__plus ms-1"
                                                                (click)="openManufacturerPopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="branded" name="Brand"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--"
                                                                    [disabled]="disableBrand">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let data of brandedDropdownList"
                                                                        value="{{data?.value}}">
                                                                        {{data?.text}} </option>
                                                                </select>
                                                                <label>Brand</label>
                                                            </div>
                                                            <div class=" button__plus ms-1" (click)="openBrandPopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>


                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="model" name="Model"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--"
                                                                    [disabled]="disableModel">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let data of modelDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>
                                                                </select>
                                                                <label>Model</label>
                                                            </div>
                                                            <div class=" button__plus ms-1" (click)="openModelPopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-sm-4 col-md-3 col-lg-3">
                                                    <div class="row flex-column">
                                                        <div
                                                            class="custom__input-container d-flex align-items-center input-gap">
                                                            <div class="select-wrap">
                                                                <select id="size" name="Size"
                                                                    class="input-field custom__input w-100 req"
                                                                    required>
                                                                    <!-- <option value=""></option> -->
                                                                    <option *ngFor="let data of sizeProductDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>

                                                                </select>


                                                                <label>Size</label>
                                                            </div>
                                                            <div class=" button__plus ms-1" (click)="openSizePopup()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </div>
                                                        </div>
                                                        <div class="custom__input-container">
                                                            <input id="minStock" type="number" name="Min Stock"
                                                                autocomplete="off" class="form-control custom__input"
                                                                (keydown)="wholeNumberValidation($event)"
                                                                [(ngModel)]="this.service.productCreationModel.minStock">
                                                            <label>Min Stock</label>
                                                        </div>
                                                        <div class="custom__input-container">
                                                            <input id="maxStock" type="number" name="Max Stock"
                                                                autocomplete="off" class="form-control custom__input"
                                                                (keydown)="wholeNumberValidation($event)"
                                                                [(ngModel)]="this.service.productCreationModel.maxStock">
                                                            <label>Max Stock</label>
                                                        </div>
                                                        <div class="custom__input-container">
                                                            <input id="reorderLevel" type="number" name="Reorder Level"
                                                                autocomplete="off" class="form-control custom__input"
                                                                (keydown)="wholeNumberValidation($event)"
                                                                [(ngModel)]="this.service.productCreationModel.reorderLevel">
                                                            <label>Reorder Level</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6 ">
                                                    <div class="row flex-column">
                                                        <div class="custom__input-container">
                                                            <input id="HSCode" type="text" name="HS Code"
                                                                autocomplete="off" class="form-control custom__input"
                                                                [(ngModel)]="this.service.productCreationModel.HSCode">
                                                            <label>HS Code</label>
                                                        </div>
                                                        <div class="custom__input-container">
                                                            <input id="description" type="text" name="Description"
                                                                autocomplete="off"
                                                                [(ngModel)]="this.service.productCreationModel.productDescription"
                                                                class="form-control custom__input">
                                                            <label>Product Description</label>
                                                        </div>
                                                        <div class="row mt-3">
                                                            <label>Product Image</label>

                                                            <div class="col-lg-3 col-md-6 col-sm-6">
                                                                <button class="btn btn-success ">Profile</button>
                                                                <input type="file" id="profile-image-input" hidden="">
                                                            </div>

                                                            <div
                                                                class="col-lg-9 col-md-6 col-sm-6 d-flex justify-content-between">
                                                                <input type="text" class="form-control  custom__input">
                                                                <button class="btn  ms-2 btn-success">Others</button>
                                                                <input type="file" id="others-image-input" hidden="">
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-lg-3 col-md-4 col-sm-6">
                                                    <div class="row flex-column">
                                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                                            <div class="table-wrapper" id="formTable">
                                                                <table id="image-table" class="table">
                                                                    <thead class="table-wrapper__head">
                                                                        <tr>
                                                                            <th>Image Name</th>
                                                                            <th>Image Preview</th>
                                                                            <th>Action</th>
                                                                        </tr>
                                                                    </thead>

                                                                    <tbody id="formTablebody">
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div [hidden]="tab !== 'additionalInformation'">
                                            <div class="row">
                                                <div class="col-lg-5 col-md-4 col-sm-6">

                                                    <div class="custom__input-container d-flex align-items-center">
                                                        <button id="addVariable" type="button"
                                                            class="btn  button--primary "
                                                            (click)="openAddVariablePopup()">Add Variable</button>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-4 col-sm-6">
                                                            <div class="custom__input-container">

                                                                <select id="variableType" name="Variable Type"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--">
                                                                    <option value=""></option>
                                                                    <option
                                                                        *ngFor="let data of variableTypeDropdownList"
                                                                        value="{{data.value}}">
                                                                        {{data.text}} </option>


                                                                </select>

                                                                <label>Variable</label>

                                                            </div>
                                                        </div>

                                                        <div class="col-lg-5 col-md-4 col-sm-6"
                                                            [hidden]="this.selectedNatureID!=1">
                                                            <div class="custom__input-container">
                                                                <input id="value" type="text" name="Value"
                                                                    autocomplete="off"
                                                                    class="form-control custom__input"
                                                                    [(ngModel)]="this.service.productCreationModel.value">
                                                                <label>Value</label>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-5 col-md-4 col-sm-6"
                                                            [hidden]="this.selectedNatureID!=2">
                                                            <div class="custom__input-container">
                                                                <input id="wholeNumberValue" type="number"
                                                                    name="Whole Number Value" autocomplete="off"
                                                                    class="form-control custom__input"
                                                                    (keydown)="wholeNumberValidation($event)"
                                                                    [(ngModel)]="this.service.productCreationModel.wholeNumber">
                                                                <label>Value</label>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-5 col-md-4 col-sm-6"
                                                            [hidden]="this.selectedNatureID!=3">
                                                            <div class="custom__input-container">
                                                                <input id="decimalValue" type="number"
                                                                    name="Decimal Value" autocomplete="off"
                                                                    class="form-control custom__input"
                                                                    (keydown)="decimalNumberValidation($event)"
                                                                    [(ngModel)]="this.service.productCreationModel.decimalNumber">
                                                                <label>Value</label>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-5 col-md-4 col-sm-6"
                                                            [hidden]="this.selectedNatureID!=4">
                                                            <div class="custom__input-container">
                                                                <select id="variableOption" name="Variable Option"
                                                                    class="input-field custom__input w-100 req"
                                                                    data-placeholder="--Choose--">
                                                                    <option value=""></option>
                                                                    <option
                                                                        *ngFor="let data of variableOptionDropdownList"
                                                                        value="{{data?.optionID}}">
                                                                        {{data?.optionName}} </option>
                                                                </select>
                                                                <label>Value</label>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-5 col-md-4 col-sm-6"
                                                            [hidden]="this.selectedNatureID!=5">
                                                            <div class="custom__input-container">
                                                                <ng-multiselect-dropdown id="variableMultiSelectOption"
                                                                    name="Variable Multi Option"
                                                                    [placeholder]="'Choose'" class="w-100"
                                                                    [data]="this.variableOptionDropdownList"
                                                                    [settings]="multidropdownSettings"
                                                                    [(ngModel)]="service.productCreationModel.multiSelectValue">
                                                                </ng-multiselect-dropdown>
                                                                <label class="multi-label">Value</label>
                                                            </div>
                                                        </div>
                                                        <!-- 
                                                          <div class="col-lg-2">
                        <div class="hms-input w-100">
                            <ng-multiselect-dropdown id="source" name="Source" [placeholder]="'Choose'" class="w-100"
                                [data]="this.doctorDropdown" [settings]="multidropdownSettingsPerformedBy"
                                [(ngModel)]="service.DoctorShareSettingData.source">
                            </ng-multiselect-dropdown>
                            <label for="Source" class="multi-label">Source</label>
                        </div>
                    </div> -->


                                                        <div class="col-lg-1 col-md-4 col-sm-6">
                                                            <button type="button" id="button5"
                                                                class="button5 btn btn-success"
                                                                style="margin-top: 10px;"
                                                                (click)="submitVariableForm()">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-6 col-md-4 col-sm-6">
                                                    <div class="table-wrapper table-wrapper-80">
                                                        <table class="table ">
                                                            <thead class="table-wrapper__head">
                                                                <tr>
                                                                    <th style="width: 10%;">S.N</th>
                                                                    <th style="width: 40%;">Variable Name</th>
                                                                    <th style="width: 30%;">Value</th>
                                                                    <th style="width: 20%;">Action</th>
                                                                </tr>
                                                            </thead>

                                                            <tbody>
                                                                <tr
                                                                    *ngFor="let data of tempVariableFormList; let i = index">
                                                                    <td>{{i+1}}</td>
                                                                    <td>{{data?.variableText}}</td>
                                                                    <td>{{data?.variableValue}}</td>
                                                                    <td>
                                                                        <button
                                                                            class="button button--extra-small button--danger button--rounded-sm me-2"
                                                                            (click)="DeleteVariableFormData(i)">
                                                                            <i class="fa-solid fa-trash"></i>
                                                                        </button>
                                                                    </td>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="custom__input-container d-flex justify-content-end align-items-center p-2"
                                        style="background-color: #d4dfe5;">
                                        <button id="button4" title="Insert Item" class="button4 button-sm btn btn-success ms-1"
                                            (click)="onSubmitProductCreation()">
                                            <i class="fa-solid fa-floppy-disk"></i>
                                        </button>
                                        <button title="Reset" id="buttonReset" class="button-sm btn btn-danger ms-1"
                                            (click)="resetProductCreation()">
                                            <i class="fa-solid fa-rotate-left"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="search-wrap mt-1">
                        <div class="d-flex col-12 search-wrap-inner justify-content-between align-items-center gap-3">
                            <div class="col-sm-4 col-md-3 col-lg-3" style="z-index: 100;">
                                <div class="d-flex py-3 align-items-center input-gap">
                                    <span>Group</span>
                                    <select id="groupSearch" name="Group Search"
                                        class="input-field custom__input w-100 req">

                                        <option *ngFor="let data of groupSearchDropdownList" value="{{data.value}}">
                                            {{data.text}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-3 col-lg-3">
                                <div class="d-flex py-3 align-items-center input-gap">
                                    <span>Category</span>
                                    <select id="categorySearch" name="Category Search"
                                        class="input-field custom__input w-100 req">

                                        <option *ngFor="let data of catagoryProductSearchDropdownList"
                                            value="{{data.value}}">
                                            {{data.text}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-3 col-lg-2">
                                <div class="search-container">
                                    <input id="productSearch" type="text" name="Search"
                                        class="search-input form-control" placeholder="Search..." autocomplete="off"
                                        (input)="onSearchProductCreation($event)">
                                    <button class="search-icon"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table__wrapper  table__wrapper-40 table_xxl-50 mt-3">
                        <table class="table">
                            <thead class="table__head">
                                <tr>
                                    <th>S.N.</th>
                                    <th>Product Code</th>
                                    <th>Product Name</th>
                                    <th>Group</th>
                                    <th>Category</th>
                                    <th>Manufacturer</th>
                                    <th>Unit[sku(alt)]</th>
                                    <th>Reorder Level </th>
                                    <th>Public</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody class="table__body">
                                <tr *ngFor="let data of productCreationGridList; let i = index">
                                    <td>{{productCreationGridDetails.pageStartIndex+i}}</td>
                                    <td>{{data?.productCode}}</td>
                                    <td>{{data?.productName}}</td>
                                    <td>{{data?.groupName}}</td>
                                    <td>{{data?.categoryName}}</td>
                                    <td>{{data?.manufacturerName}}</td>
                                    <td>{{data?.unitName}}</td>
                                    <td>{{data?.reorderLevel}}</td>
                                    <td>{{data?.isPublic==false?'No':'Yes'}}</td>
                                    <td>{{data?.status==1?'Active':'InActive'}}</td>
                                    <td>

                                        <button
                                            class="button button--extra-small button--success button--rounded-sm me-2"
                                            (click)="getProductCreationById(data?.productID)">
                                            <i class="fa-regular fa-pen-to-square"></i>
                                        </button>
                                        <button
                                            class="button button--extra-small button--danger button--rounded-sm me-2"
                                            (click)="confirmBoxProductCreationDelete(data?.productID)">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                          <button
                                            class="button button--extra-small button--add button--rounded-sm me-2"
                                            (click)="openProductDetailsPopup(data?.productID)" >
                                            <i class="fa-solid fa-eye"></i>
                                        </button>
                                    </td>


                                </tr>
                            </tbody>


                        </table>
                    </div>
                </div>


            </div>
            <mat-paginator #paginatorPopup (page)="handlePageEvent($event)" class="demo-paginator" [length]="length"
                [pageSize]="pageSize" [disabled]="disabled" [showFirstLastButtons]="showFirstLastButtons"
                [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []" [hidePageSize]="hidePageSize"
                [pageIndex]="pageIndex" aria-label="Select page">
            </mat-paginator>
        </div>
    </div>
</div>


<!--  Popup -->

<!-- Group popup -->
<!-- <div [hidden]="!productGroupPopup">
    <div class="customPopupContainer" (click)="closeGroupPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">

            <span class="closeIcon closeIcon-product-group" (click)="closeGroupPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>

            <div class="modal-body p-2">

                <app-product-group></app-product-group>
            </div>
        </div>

    </div>
</div> -->
<div *ngIf="productGroupPopup">
    <div class="customPopupContainer" (click)="closeGroupPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">

            <span class="closeIcon closeIcon-product-group" (click)="closeGroupPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>

            <div class="modal-body p-2">

                <app-product-group></app-product-group>
            </div>
        </div>

    </div>
</div>


<!-- Category popup -->
<div *ngIf="productCategoryPopup">
    <div class="customPopupContainer" (click)="closeCategoryPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">
            <span class="closeIcon closeIcon-product-group" (click)="closeCategoryPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>
            <div class="modal-body p-2">

                <app-product-category></app-product-category>
            </div>
        </div>

    </div>
</div>

<!-- SKU popup -->
<div *ngIf="productUnitPopup">
    <div class="customPopupContainer" (click)="closeUnitPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">
            <span class="closeIcon closeIcon-product-group" (click)="closeUnitPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>
            <div class="modal-body p-2">

                <app-product-unit></app-product-unit>
            </div>
        </div>

    </div>
</div>

<!-- Manufacturer popup -->
<div *ngIf="productManufacturerPopup">
    <div class="customPopupContainer" (click)="closeManufacturerPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">
            <span class="closeIcon closeIcon-product-group" (click)="closeManufacturerPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>
            <div class="modal-body p-2">

                <app-product-manufacturer></app-product-manufacturer>
            </div>
        </div>

    </div>
</div>
<!-- Brand Popup -->
<div *ngIf="productBrandPopup">
    <div class="customPopupContainer" (click)="closeBrandPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">
            <span class="closeIcon closeIcon-product-group" (click)="closeBrandPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>
            <div class="modal-body p-2">

                <app-product-brand></app-product-brand>
            </div>
        </div>

    </div>
</div>
<!-- Model popup -->
<div *ngIf="productModelPopup">
    <div class="customPopupContainer" (click)="closeModelPopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">
            <span class="closeIcon closeIcon-product-group" (click)="closeModelPopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>
            <div class="modal-body p-2">

                <app-product-model></app-product-model>
            </div>
        </div>

    </div>
</div>

<!-- size popup -->
<div *ngIf="productSizePopup">
    <div class="customPopupContainer" (click)="closeSizePopup()">
        <div (click)="$event.stopPropagation()"
            class="customPopup customPopup-product-group customPopup-md-hgt-90 customPopup-md-80"
            [ngClass]="modalAnimationClass">
            <span class="closeIcon closeIcon-product-group" (click)="closeSizePopup()">
                <i class="fa-solid fa-xmark"></i>
            </span>
            <div class="modal-body p-2">

                <app-product-size></app-product-size>
            </div>
        </div>

    </div>
</div>


<!-- Altenative unit popup -->
<div *ngIf="alternativeUnitPopup">
    <div class="customPopupContainer" (click)="closeAlternativePopup()">
        <div (click)="$event.stopPropagation()" class="customPopup customPopup-md-hgt-30 customPopup-md-30"
            [ngClass]="modalAnimationClass">
            <div class="customPopupHeader"><span>Product Unit Relation</span>
                <span class="closeIcon" (click)="closeAlternativePopup()">
                    <i class="fa-solid fa-xmark"></i>
                </span>
            </div>
            <div class="modal-body p-2">
                <div class="row">
                    <div class=" col-sm-4 col-md-3 col-lg-4">
                        <div class="custom__input-container d-flex align-items-center">
                            <input id="popupSKUUnit" type="number" class="form-control custom__input req"
                                autocomplete="off" name="SKU Unit" [(ngModel)]="this.popupSKUValue" required>
                            <span class="ms-3">{{selectedSKUUnit}}</span>
                        </div>
                    </div>

                    <div class=" col-sm-4 col-md-3 col-lg-1 ">
                        <div style="text-align: center; justify-content: center; align-items: center;">
                            <p style="line-height: 10px; font-size: 12px; font-weight: 500; margin-top: 18px;">=</p>
                        </div>
                    </div>

                    <div class=" col-sm-4 col-md-3 col-lg-4">
                        <div class="custom__input-container d-flex align-items-center">
                            <input id="popupALTUnit" type="number" class="form-control custom__input req"
                                autocomplete="off" name="ALT Unit" [(ngModel)]="this.popupALTValue" required>
                            <span class="ms-3">{{selectedAlternativeUnit}}</span>
                        </div>
                    </div>

                </div>
                <div class="row justify-content-end">

                    <div class="col-12">
                        <div class="custom__input-container d-flex justify-content-end align-items-center"
                            style="background-color: #d4dfe5; padding: 5px;">
                            <button id="button7" title="Insert Item" class="button-sm btn btn-success ms-1"
                                (click)="onSubmitProductionUnitRelation()">
                                <i class="fa-solid fa-floppy-disk"></i>
                            </button>
                            <button title="Reset" class="button-sm btn btn-danger ms-1"
                                (click)="this.tempProductUnitRelationReset()">
                                <i class="fa-solid fa-rotate-left"></i>
                            </button>
                        </div>
                    </div>

                </div>


            </div>
        </div>

    </div>
</div>



<!-- ADD Variable  popup -->
<div [hidden]="!addVariablePopup">
    <div class="customPopupContainer" (click)="closeAddVariablePopup()">
        <div (click)="$event.stopPropagation()" class="customPopup customPopup-md-hgt-40 customPopup-md-50"
            [ngClass]="modelAnimationAddVariable">
            <div class="customPopupHeader"><span>Add Variable</span>
                <span class="closeIcon" (click)="closeAddVariablePopup()">
                    <i class="fa-solid fa-xmark"></i>
                </span>
            </div>
            <div class="modal-body p-2">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 p-0">
                        <div class="" id="sales-form-container">
                            <form class="">
                                <div class="container-fluid pt-0 px-1 pb-1">
                                    <div class="sales__form-box m-2 pb-2 ">

                                        <div class="row">
                                            <div class=" col-sm-4 col-md-3 col-lg-3">
                                                <div class="custom__input-container d-flex align-items-center">
                                                    <input id="variableName" type="text"
                                                        class="form-control custom__input req" autocomplete="off"
                                                        name="Variable Name"
                                                        [(ngModel)]="this.service.addVariableModel.variableName"
                                                        required>
                                                    <label>Name</label>
                                                </div>
                                            </div>

                                            <div class="col-sm-4 col-md-4 col-lg-3">

                                                <div class="custom__input-container">
                                                    <select class="input-field custom__input  w-100 req" id="nature"
                                                        name="Nature" data-placeholder="--Choose--" required>
                                                        <option value=""></option>
                                                        <option *ngFor="let data of natureDropdownList"
                                                            value="{{data.value}}">
                                                            {{data.text}} </option>
                                                    </select>
                                                    <label>Nature</label>
                                                </div>

                                            </div>

                                            <div class="col-sm-4 col-md-4 col-lg-3">

                                                <div class="custom__input-container">
                                                    <select class="input-field custom__input  w-100 req"
                                                        id="addVariableStatus" required>
                                                        <option value="1">Active</option>
                                                        <option value="0">InActive</option>
                                                    </select>
                                                    <label>Status</label>
                                                </div>
                                            </div>

                                            <div class="col-sm-4 col-md-3 col-lg-1">
                                                <div class="custom__input-container d-flex align-items-center">
                                                    <button type="button" id="button2"
                                                        class="button2 button-sm btn btn-success ms-1"
                                                        [title]="submitButtonAV" (click)="onSubmitAddVariable()">

                                                        <i
                                                            [ngClass]="{ 'fa-solid fa-save': submitButtonAV === 'Save' }"></i>
                                                        <i [ngClass]="{
                                        'fa-solid fa-rotate-right': submitButtonAV === 'Update'
                                        }"></i>
                                                    </button>


                                                    <button class="button-sm btn btn-danger ms-1" title="Reset"
                                                        id="addVariableReset" (click)="addVariableReset()">
                                                        <i class="fa-solid fa-rotate-left"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="filter sales__form-box m-2 pb-2">
                                        <div class="row d-flex justify-content-end">
                                            <div class=" col-sm-4 col-md-3 col-lg-3">
                                                <div class="custom__input-container d-flex align-items-center">
                                                    <input id="addVariableSearchString" type="text"
                                                        class="form-control custom__input search-icon-padding"
                                                        placeholder="Search" autocomplete="off"
                                                        (input)="onSearchAddVariable($event)">
                                                    <button class="search-icon"><i class="fa fa-search"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="table__wrapper  table__wrapper-40 table_xxl-40 mt-3">
                                                <table class="table">
                                                    <thead class="table__head">
                                                        <tr>
                                                            <th class="sales-main-table__sn">S.N.</th>
                                                            <th class="sales-main-table__item">Variable Name</th>
                                                            <th class="sales-main-table__qty">Nature</th>
                                                            <th class="sales-main-table__action">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="table__body" id="sales-main-table__body">
                                                        <tr *ngFor="let data of addVariableGridList; let i = index">
                                                            <td>{{addVariableGridDetails.pageStartIndex+i}}</td>
                                                            <td>{{data?.variable}}</td>
                                                            <td>{{data?.nature}}</td>

                                                            <!-- <td>{{data?.status=='True'?'Active':'InActive'}}</td> -->
                                                            <td>
                                                                <button
                                                                    class="button button--extra-small button--success button--rounded-sm me-2"
                                                                    (click)="getAddVariableById(data?.variableID)">
                                                                    <i class="fa-regular fa-pen-to-square"></i>
                                                                </button>
                                                                <button
                                                                    class="button button--extra-small button--danger button--rounded-sm me-2"
                                                                    (click)="confirmBoxAddVariableDelete(data?.variableID)">
                                                                    <i class="fa-solid fa-trash"></i>
                                                                </button>

                                                                <button
                                                                    *ngIf="data?.natureID === '4' || data?.natureID === '5'"
                                                                    class="button button--extra-small button--success button--rounded-sm me-2"
                                                                    (click)="openVariableOptionPopup(data?.variableID)">
                                                                    <i class="fa-solid fa-plus"></i>
                                                                </button>

                                                            </td>


                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>

                                    </div>
                                    <mat-paginator #AddVariablepaginatorPopup
                                        (page)="handlePageEventOfAddVariable($event)" class="demo-paginator"
                                        [length]="lengthAV" [pageSize]="pageSizeAV" [disabled]="disabledAV"
                                        [showFirstLastButtons]="showFirstLastButtonsAV"
                                        [pageSizeOptions]="showPageSizeOptionsAV ? pageSizeOptionsAV : []"
                                        [hidePageSize]="hidePageSizeAV" [pageIndex]="pageIndexAV"
                                        aria-label="Select page">
                                    </mat-paginator>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- Variable Option popup -->
<div [hidden]="!variableOptionPopup">
    <div class="customPopupContainer" (click)="closeVariableOptionPopup()">
        <div (click)="$event.stopPropagation()" class="customPopup customPopup-md-hgt-40 customPopup-md-50"
            [ngClass]="modelAnimationVariableOption">
            <div class="customPopupHeader"><span>Add Variable Option</span>
                <span class="closeIcon" (click)="closeVariableOptionPopup()">
                    <i class="fa-solid fa-xmark"></i>
                </span>
            </div>
            <div class="modal-body p-2">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 p-0">
                        <div class="" id="sales-form-container">
                            <form class="">
                                <div class="container-fluid pt-0 px-1 pb-1">
                                    <div class="sales__form-box m-2 pb-2 ">

                                        <div class="row">
                                            <div class=" col-sm-4 col-md-3 col-lg-3">
                                                <div class="custom__input-container d-flex align-items-center">
                                                    <input id="option" type="text"
                                                        class="form-control custom__input req" autocomplete="off"
                                                        name="Option Name" [(ngModel)]="this.optionName" required>
                                                    <label>Option</label>
                                                </div>
                                            </div>


                                            <div class="col-sm-4 col-md-4 col-lg-3">

                                                <div class="custom__input-container">
                                                    <select class="input-field custom__input  w-100 req"
                                                        id="VariableOptionStatus" required>
                                                        <option value="1">Active</option>
                                                        <option value="0">InActive</option>
                                                    </select>
                                                    <label>Status</label>
                                                </div>
                                            </div>

                                            <div class="col-sm-4 col-md-3 col-lg-1">
                                                <div class="custom__input-container d-flex align-items-center">
                                                    <button type="button" id="button3"
                                                        class="button3 button-sm btn btn-success ms-1" title="Submit"
                                                        (click)="onSubmitVariableOption()">
                                                        <i class="fa-solid fa-save"></i>
                                                    </button>

                                                </div>
                                            </div>
                                        </div>

                                    </div>



                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="table__wrapper  table__wrapper-40 table_xxl-40 mt-3">
                                                <table class="table">
                                                    <thead class="table__head">
                                                        <tr>
                                                            <th class="sales-main-table__sn">S.N.</th>
                                                            <th class="sales-main-table__item">Option</th>

                                                            <th class="sales-main-table__action">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="table__body" id="sales-main-table__body">
                                                        <tr *ngFor="let data of variableOptionGridList; let i = index">
                                                            <td>{{i+1}}</td>

                                                            <td>{{data?.optionName}}</td>


                                                            <td>

                                                                <button
                                                                    class="button button--extra-small button--danger button--rounded-sm me-2"
                                                                    (click)="confirmBoxVariableOptionDelete(data?.optionID)">
                                                                    <i class="fa-solid fa-trash"></i>
                                                                </button>



                                                            </td>


                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>

                                    </div>

                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- Product Details Popup -->
<div *ngIf="productDetailsPopup">
    <div class="customPopupContainer" (click)="closeProductDetailsPopup()">
        <div (click)="$event.stopPropagation()" class="customPopup customPopup-md-hgt-40 customPopup-md-40"
            [ngClass]="modalAnimationClass">
            <div class="customPopupHeader"><span>Product Detail of {{selectedProductReportData?.productName}}</span>
                <span class="closeIcon" (click)="closeProductDetailsPopup()">
                    <i class="fa-solid fa-xmark"></i>
                </span>
            </div>

            <div class="modal-body p-2">
                <div class="row">
                  <div class="details-card">
  <div class="details-grid">

    <div class="rowData"><span class="labelData">ID:</span><span class="valueData">{{selectedProductReportData?.productID}}</span></div>
    <div class="rowData"><span class="labelData">Code:</span><span class="valueData">{{selectedProductReportData?.productCode}}</span></div>
    <div class="rowData"><span class="labelData">Group:</span><span class="valueData">{{selectedProductReportData?.groupName}}</span></div>
    <div class="rowData"><span class="labelData">Category:</span><span class="valueData">{{selectedProductReportData?.categoryName}}</span></div>
    <div class="rowData"><span class="labelData">Unit:</span><span class="valueData">{{selectedProductReportData?.unitName}}</span></div>
    <div class="rowData"><span class="labelData">Vatable:</span><span class="valueData">{{selectedProductReportData?.isVatable==1?'Yes':'No'}}</span></div>
    <div class="rowData"><span class="labelData">Assets Type:</span><span class="valueData">{{selectedProductReportData?.assetName}}</span></div>
    <div class="rowData"><span class="labelData">Consumable:</span><span class="valueData">{{selectedProductReportData?.isConsumable==1?'Yes':'No'}}</span></div>
    <div class="rowData"><span class="labelData">Expirable:</span><span class="valueData">{{selectedProductReportData?.expirable==1?'Yes':'No'}}</span></div>
    <div class="rowData"><span class="labelData">Public:</span><span class="valueData">{{selectedProductReportData?.isPublic==1?'Yes':'No'}}</span></div>
    <div class="rowData"><span class="labelData">Status:</span><span class="valueData">{{selectedProductReportData?.status==1?'Active':'InActive'}}</span></div>
    <div class="rowData"><span class="labelData">Created User:</span><span class="valueData">{{selectedProductReportData?.createdUser}}</span></div>
    <div class="rowData"><span class="labelData">Created Date:</span><span class="valueData">{{selectedProductReportData?.createdDate}}</span></div>

    <div class="rowData"><span class="labelData">Brand:</span><span class="valueData">{{selectedProductReportData?.brandName}}</span></div>
    <div class="rowData"><span class="labelData">Model:</span><span class="valueData">{{selectedProductReportData?.modelName}}</span></div>
    <div class="rowData"><span class="labelData">Manufacturer:</span><span class="valueData">{{selectedProductReportData?.manufaturerName}}</span></div>
    <div class="rowData"><span class="labelData">Min/Max Stock:</span><span class="valueData">{{selectedProductReportData?.minMaxStock}}</span></div>
    <div class="rowData"><span class="labelData">Reorder Level:</span><span class="valueData">{{selectedProductReportData?.reorderLevel}}</span></div>

  </div>
</div>
                </div>
               
            </div>
        </div>

    </div>
</div>